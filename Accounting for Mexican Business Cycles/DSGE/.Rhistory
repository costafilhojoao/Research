setwd("G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/DSGE")
rm(list = ls())  # clear the memory
graphics.off()   # close graphs
library(WDI)
WDIsearch(string = "WITS-WORLD BANK", field = "name", short = TRUE,
cache = NULL)
WDIsearch(string = "WITS", field = "name", short = TRUE,
cache = NULL)
WDIsearch(string = " Intermediate goods", field = "name", short = TRUE,
cache = NULL)
intermediate <- WDI(indicator = c("TM.QTY.RAWT.XD.WB"), start = 1990)
View(intermediate)
?WDIsearch
WDIsearch(string = "WITS", field = "sourceDatabase", short = TRUE,
cache = NULL)
WDIsearch(string = "intermediate", field = "name", short = FALSE,
cache = NULL)
search <- WDIsearch(string = "intermediate", field = "name", short = FALSE, cache = NULL)
View(search)
intermediate <- WDI(indicator = c("TM.VAL.RAWT.CD.WB"), start = 1990)
View(intermediate)
intermediate <- subset( intermediate, iso2c == "MEX")
View(search)
search <- WDIsearch(string = "intermediate goods", field = "name", short = FALSE, cache = NULL)
View(search)
search <- WDIsearch(string = "World Integrated Trade Solution", field = "sourceDatabase", short = FALSE, cache = NULL)
search <- WDIsearch(string = "World Integrated Trade Solution", field = "sourceOrganization", short = FALSE, cache = NULL)
View(search)
search <- WDIsearch(string = "UNCTAD", field = "sourceOrganization", short = FALSE, cache = NULL)
View(search)
search <- WDIsearch(string = "WITS", field = "sourceOrganization", short = FALSE, cache = NULL)
View(search)
search <- WDIsearch(string = "World Integrated Trade Solutions", field = "sourceOrganization", short = FALSE, cache = NULL)
search <- WDIsearch(string = "World Integrated Trade Solutions", field = "sourceDatabase", short = FALSE, cache = NULL)
search <- WDIsearch(string = "World Integrated Trade Solutions", field = "description", short = FALSE, cache = NULL)
search <- WDIsearch(string = "trade flows", field = "name", short = FALSE, cache = NULL)
search <- WDIsearch(string = "imports", field = "name", short = FALSE, cache = NULL)
View(search)
intermediate <- WDI(indicator = c("NE.IMP.GNFS.ZS"), start = 1990)
intermediate <- subset( intermediate, iso2c == "MEX")
intermediate <- WDI(indicator = c("NE.IMP.GNFS.ZS"), start = 1990)
View(intermediate)
intermediate <- WDI(indicator = c("TM.VAL.RAWT.CD.WB"), start = 1990)
View(intermediate)
intermediate <- subset( intermediate, country == "Mexico")
intermediate <- WDI(indicator = c("TM.VAL.RAWT.CD.WB"), start = 1990)
head( intermediate)
intermediate <- subset( intermediate, country == Mexico )
View(intermediate)
intermediate <- WDI(indicator = c("MPRT-TRD-VL"), start = 1990)
search <- WDIsearch(string = "WLD", field = "sourceDatabase", short = FALSE, cache = NULL)
View(intermediate)
search <- WDIsearch(string = "WLD", field = "sourceOrganization", short = FALSE, cache = NULL)
search <- WDIsearch(string = "UNCTAD", field = "sourceOrganization", short = FALSE, cache = NULL)
View(search)
intermediate <- WDI(indicator = c("MPRT-TRD-VL"), start = 1990)
search <- WDIsearch(string = "Intermediate goods", field = "description", short = FALSE, cache = NULL)
View(search)
search <- WDIsearch(string = "imports", field = "description", short = FALSE, cache = NULL)
View(search)
install.packages("BIS")
library(devtools)
install_github("expersso/BIS")
library(BIS)
search <- get_datasets()
View(search)
search <- WDIsearch(string = "gdp", field = "name", short = TRUE,
cache = NULL)
View(search)
WDI(country = "all", indicator = "6.0.GDP_current",
start = 1991, end = 2019, extra = FALSE, cache = NULL)
GDP <- WDI(country = "all", indicator = "6.0.GDP_current",
start = 1991, end = 2019, extra = FALSE, cache = NULL)
View(GDP)
GDP <- subsect( GDP, iso2c = "MEX" )
GDP <- subset( GDP, iso2c = "MEX" )
View(GDP)
GDP <- subset( GDP, iso2c = "MEX" )
GDP <- WDI(country = "all", indicator = "6.0.GDP_current",
start = 1991, end = 2019, extra = FALSE, cache = NULL)
GDP <- subset( GDP, iso2c = MEX )
GDP <- GDP[ iso2c == MEX ]
GDP <- GDP[ iso2c == "MEX" ]
GDP <- subset( GDP, iso2c == "MEX" )
View(GDP)
GDP <- WDI(country = "all", indicator = "6.0.GDP_current",
start = 1991, end = 2019, extra = FALSE, cache = NULL)
GDP <- subset( GDP, iso2c == c( "MEX", "USA" ) )
View(GDP)
GDP <- WDI(country = "all", indicator = "6.0.GDP_current",
start = 1991, end = 2019, extra = FALSE, cache = NULL)
GDP <- subset( GDP, iso2c == "MEX" | iso2c == "USA"  )
View(GDP)
GDP <- WDI(country = "all", indicator = "6.0.GDP_current",
start = 1991, end = 2019, extra = FALSE, cache = NULL)
USA <- subset( GDP, iso2c == "USA"  )
GDP <- WDI(country = "all", indicator = "6.0.GDP_current",
start = 1991, end = 2019, extra = FALSE, cache = NULL)
MEX <- subset( GDP, iso2c == "MEX"  )
View(GDP)
search <- WDIsearch(string = "gdp", field = "name", short = FALSE,
cache = NULL)
View(search)
GDP <- WDI(country = "all", indicator = "	NYGDPMKTPSACD",
start = 1991, end = 2019, extra = FALSE, cache = NULL)
View(GDP)
MEX <- subset( GDP, iso2c == "MEX"  )
View(MEX)
USA <- subset( GDP, iso2c == "USA"  )
View(MEX)
View(MEX)
library(readxl)
imports_mex <- read_xlsx("WITS-Product-MEX.xlsx",
sheet = "Product-TimeSeries-Product",
range = "F2:AI2", col_names = FALSE)
View(imports_mex)
plot(imports_mex)
plot(imports_mex[1:])
imports_mex[1:]
imports_mex[1,]
plot( imports_mex[1,] )
View(imports_mex)
imports_mex <- imports_mex[ 1 , ]
View(imports_mex)
imports_mex <- matrix( data = imports_mex[ 1 , ], nrow = 1 )
View(imports_mex)
imports_mex <- read_xlsx("WITS-Product-MEX.xlsx",
sheet = "Product-TimeSeries-Product",
range = "F2:AI2", col_names = FALSE)
imports_mex <- matrix( data = imports_mex[ 1 , ], nrow = 1, ncol = length( imports_mex) )
imports_usa <- read_xlsx("WITS-Product-USA.xlsx",
sheet = "Product-TimeSeries-Product",
range = "F2:AI2", col_names = FALSE)
imports_mex <- t( imports_mex )
View(imports_mex)
imports_mex <- read_xlsx("WITS-Product-MEX.xlsx",
sheet = "Product-TimeSeries-Product",
range = "F2:AI2", col_names = FALSE)
View(imports_mex)
imports_mex[1,]
imports_mex <- ts( imports_mex[1,], start = 1991, frequency = 1 )
plot(imports_mex)
View(imports_mex)
imports_mex <- read_xlsx("WITS-Product-MEX.xlsx",
sheet = "Product-TimeSeries-Product",
range = "F2:AI2", col_names = FALSE)
imports_mex <- matrix( imports_mex[1,], ncol = 1, nrow = 30 )
View(imports_mex)
imports_mex <- read_xlsx("WITS-Product-MEX.xlsx",
sheet = "Product-TimeSeries-Product",
range = "F2:AI2", col_names = FALSE)
View(imports_mex)
imports_mex <- matrix( t( imports_mex[1,] ), ncol = 1, nrow = 30 )
View(imports_mex)
imports_mex <- read_xlsx("WITS-Product-MEX.xlsx",
sheet = "Product-TimeSeries-Product",
range = "F2:AI2", col_names = FALSE)
imports_mex <- ts( matrix( t( imports_mex[1,] ), ncol = 1, nrow = 30 ),
start = 1991, frequency = 1 )
plot(imports_mex)
imports_usa <- ts( matrix( t( imports_usa[1,] ), ncol = 1, nrow = 30 ),
start = 1991, frequency = 1 )
View(MEX)
mex_gdp <- ts( MEX$`	NYGDPMKTPSACD`, start = 1991, frequency = 1 )
imports_mex <- read_xlsx("WITS-Product-MEX.xlsx",
sheet = "Product-TimeSeries-Product",
range = "G2:AI2", col_names = FALSE)
imports_mex <- ts( matrix( t( imports_mex[1,] ), ncol = 1, nrow = 30 ),
start = 1991, frequency = 1 )
length(imports_mex[1,]
length( imports_mex[1,] )
ncol( imports_mex )
imports_mex <- read_xlsx("WITS-Product-MEX.xlsx",
sheet = "Product-TimeSeries-Product",
range = "G2:AI2", col_names = FALSE)
ncol( imports_mex )
imports_mex <- ts( matrix( t( imports_mex[1,] ),
ncol = 1,
nrow = ncol( imports_mex ) ),
start = 1991, frequency = 1 )
tail( imports_mex)
imports_usa <- read_xlsx("WITS-Product-USA.xlsx",
sheet = "Product-TimeSeries-Product",
range = "F2:AH2", col_names = FALSE)
imports_usa <- ts( matrix( t( imports_usa[1,] ),
ncol = 1,
nrow = ncol( imports_usa ) ),
start = 1991, frequency = 1 )
View(search)
search <- get_datasets()
View(search)
BISdatasets <- get_datasets()
rm(search)
REER <- get_bis(BISdatasets$url[13])
View(REER)
View(BISdatasets)
BISdatasets$url[13]
REER <- get_bis(BISdatasets$url[13])  # Effective exchange rate indices (monthly)
BISdatasets <- get_datasets()
temp <- tempfile()
download.file(BISdatasets$url[13],temp)
REER <- read.table( unz(temp ))# Effective exchange rate indices (monthly)
temp
REER <- read.csv( unz(temp ), header = TRUE )# Effective exchange rate indices (monthly)
?read.csv
?unz
REER <- read.csv( unz(temp, "WS_EER_M_csv_col.csv"  ), header = TRUE )# Effective exchange rate indices (monthly)
View(REER)
rm(REER)
rm(temp)
rm(BISdatasets)
usa_gdp <- ts( USA$`	NYGDPMKTPSACD`, start = 1991, frequency = 1 )
share_mex <- imports_mex / mex_gdp
share_mex
share_mex <- imports_mex / 1000 / mex_gdp
share_mex
share_mex <- imports_mex / mex_gdp * 1000000
share_mex
share_mex <- imports_mex / ( mex_gdp * 1000000 )
share_mex
share_mex <- imports_mex / ( mex_gdp * 1000 )
share_mex
plot(share_mex)
share_mex
share_mex <- ts( imports_mex / ( mex_gdp * 1000 ), start = 1991, frequency = 1 )
share_mex
share_mex <- imports_mex / ( mex_gdp * 1000 )
share_mex
reer <- read_xlsx("reer.xlsx",
sheet = "Real",
range = "AM6:AM329",
col_names = FALSE)
View(reer)
View(reer)
reer <- ts( reer$...1, start = c(1, 1994), frequency = 12 )
plot(reer)
reer <- ts( 1 / reer$...1, start = c(1, 1994), frequency = 12 )
reer <- read_xlsx("reer.xlsx",
sheet = "Real",
range = "AM6:AM329",
col_names = FALSE)
reer <- ts( 1 / reer$...1, start = c(1, 1994), frequency = 12 )
plot(reer)
reer <- read_xlsx("reer.xlsx",
sheet = "Real",
range = "AM6:AM329",
col_names = FALSE)
reer <- ts( 1 / reer$...1 / 100 , start = c(1, 1994), frequency = 12 )
plot( reer )
reer <- read_xlsx("reer.xlsx",
sheet = "Real",
range = "AM6:AM329",
col_names = FALSE)
reer <- ts( reer$...1 / 100 , start = c(1, 1994), frequency = 12 )
reer
reer <- 1 / reer
reer
plot(reer)
library(xts)
reer <- xts( reer, order.by = time(reer) )
reer <- read_xlsx("reer.xlsx",
sheet = "Real",
range = "AM6:AM329",
col_names = FALSE)
View(reer)
reer <- ts( reer$...1 / 100 , start = c(1, 1994), frequency = 12 ); reer <- 1 / reer
reer <- xts( reer )
time(reer)
reer_time  <- seq(as.Date('1994-01-01'), as.Date('2020-12-01'), by='month')
reer <- xts( reer, order.by = reer_time )
View(reer)
reer <- apply.quarterly( reer, FUN = mean) # quarterly average
View(reer)
reer <- ts( reer, start = c( 1994, 1), frequency = 4 )
plot(reer)
ee <- reer - 1 # deviation from the steady state
plot( ee )
save.image("G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/DSGE/DSGEData.RData")
data_annual <- data.frame( share_mex, share_usa )
share_usa <- imports_usa / ( usa_gdp * 1000 ) # USA
plot(share_usa)
share_mex <- imports_mex / ( mex_gdp * 1000 ) * 100 # Mexico
share_usa <- imports_usa / ( usa_gdp * 1000 ) * 100 # USA
data_annual <- data.frame( share_mex, share_usa )
View(data_annual)
write.xlsx( X_initial, file="X_initial.xlsx")
library(xlsx)
write.xlsx( X_initial, file="X_initial.xlsx")
write.xlsx( data_annual, file="X_initial.xlsx")
getwd()
write.xlsx( data_annual, file="data_annual.xlsx")
library(neverhpfilter)
library(nicethings)
nice_load(file = "G:\Meu Drive\Documents\Papers\AcadÃªmicos\Research\Accounting for Mexican Business Cycles\BCABCAdata.RData",
ypc = "austerity", rename = NULL)
nice_load(file = "G:\Meu Drive\Documents\Papers\AcadÃªmicos\Research\Accounting for Mexican Business Cycles\BCABCAdata.RData",
object = "ypc", rename = NULL)
nice_load(file = "G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/BCABCAdata.RData",
object = "ypc", rename = NULL)
nice_load(file = "G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/BCAdata.RData",
object = "ypc", rename = NULL)
nice_load(file = "G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/BCA/BCAdata.RData",
object = "ypc", rename = NULL)
nice_load(file = "G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/BCA/BCAdata.RData",
object = "ypc", rename = NULL)
series <- as.xts( ts( PM$values / 100 , start = c( 1995, 1), frequency = 4 )  )
nice_load(file = "G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/BCA/BCAdata.RData",
object = "ypc", rename = NULL)
nice_load(file = "G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/BCA/BCAdata.RData",
object = "ypc", rename = NULL)
nice_load(file = "G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/BCA/BCAdata.RData",
object = "ypc", rename = NULL)
t <- readMat("G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/BCA/data.dat")
library(R.matlab)
t <- readMat("G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/BCA/data.dat")
t <- readMat("G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/BCA/BCAresults.m")
t <- readMat("G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/BCA/BCAresults.mat")
View(t)
t[["worktemp"]][[5]]
t[["worktemp"]][[5]][2]
t[["worktemp"]][[5]][,2]
BCAresults <- readMat("G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/BCA/BCAresults.mat")
ypc <- BCAresults[["worktemp"]][[5]][,2]
plotypc
plot(ypc)
BCAresults[["worktemp"]][[5]][,1]
library(neverhpfilter)
series <- as.xts( ts( ypc , start = c( 1993, 1), frequency = 4 )  )
dimnames(series) <- list(NULL, "PF")
hh <- 8 # h
pp <- 4 # p
hamilton <- yth_filter( series, h = hh, p = pp); rm(hh, pp, series)
View(hamilton)
series <- as.xts( ts( ypc , start = c( 1993, 1), frequency = 4 )  )
dimnames(series) <- list(NULL, "dy")
hh <- 8 # h
pp <- 4 # p
hamilton <- yth_filter( series, h = hh, p = pp); rm(hh, pp, series)
dy = ts( as.numeric(hamilton$dy.cycle ), start = c( 1993, 1), frequency = 4 )
plot(dy)
series <- as.xts( ts( log( ypc ) , start = c( 1993, 1), frequency = 4 )  )
dimnames(series) <- list(NULL, "dy")
hh <- 8 # h
pp <- 4 # p
hamilton <- yth_filter( series, h = hh, p = pp); rm(hh, pp, series)
dy = ts( as.numeric(hamilton$dy.cycle ), start = c( 1993, 1), frequency = 4 )
plot(dy)
dy
rm(r)
rm(t)
library(mFilter)
hp  <- mFilter( log ( ypc ), filter="HP", freq = 1600)
ypc <- ts( BCAresults[["worktemp"]][[5]][,2], start = c( 1993, 1), frequency = 4 )
hp  <- mFilter( log ( ypc ), filter="HP", freq = 1600)
dy = hp$cycle
plot(dy)
hp
dy = window( hp$cycle, start = c( 1994, 1) )
data        <- data.frame( ee, dy )
View(data)
data        <- data.frame( ee=ee, dy )
View(data)
colnames( data ) <- c( "ee", "dy" )
write.xlsx( data, file="data.xlsx")
time                 <- c( 1:length( ypc ) )
reg                  <- lm( log( ypc ) ~ time )
beta0                <- reg[["coefficients"]][["(Intercept)"]]
beta1                <- reg[["coefficients"]][["time"]]
trend                <- ts(beta0+beta1*time, start=c(1993,1),
frequency = 4)
dy                   <- ( ( log( ypc) - trend ) * 100
dy                   <- ( log( ypc) - trend ) * 100
dy
plot(dy)
data        <- data.frame( ee, dy )
colnames( data ) <- c( "ee", "dy" )
y
time   <- c( 1:length( ypc ) )
reg    <- lm( log( ypc ) ~ time )
beta0  <- reg[["coefficients"]][["(Intercept)"]]
beta1  <- reg[["coefficients"]][["time"]]
trend  <- ts(beta0+beta1*time, start=c(1993,1),
frequency = 4)
dy     <- window(  ( log( ypc) - trend ) * 100,
start = c( 1994, 1) )
data        <- data.frame( ee, dy )
colnames( data ) <- c( "ee", "dy" )
write.xlsx( data, file="data.xlsx")
BCAresults[["worktemp"]][[5]][,1]
data        <- data.frame( time = BCAresults[["worktemp"]][[5]][4:112,2],
ee,
dy )
data        <- data.frame( time = BCAresults[["worktemp"]][[5]][4:111,2],
ee,
dy )
View(data)
data  <- data.frame( time = seq(as.Date('1994-01-01'), as.Date('2020-12-01'), by='quarter'),
ee,
dy )
View(data)
colnames( data ) <- c( "ee", "dy" )
write.xlsx( data, file="data.xlsx")
colnames( data ) <- c( "quarter", "ee", "dy" )
write.xlsx( data, file="data.xlsx")
time(share_mex)
ggplot(base) +
geom_line( aes(x = year, y = share_mex ), size = 1.5, colour = "darkred") +
geom_line( aes(x = year, y = share_usa ), size = 1.5, coulou = "darkblue") +
theme_classic() + labs(x = "Output", y= "" ) +
theme(text = element_text(size=12) )
library(ggplot2)
ggplot(base) +
geom_line( aes(x = year, y = share_mex ), size = 1.5, colour = "darkred") +
geom_line( aes(x = year, y = share_usa ), size = 1.5, coulou = "darkblue") +
theme_classic() + labs(x = "Output", y= "" ) +
theme(text = element_text(size=12) )
base <- data.frame( share_mex, share_usa, year=time(share_mex) )
ggplot(base) +
geom_line( aes(x = year, y = share_mex ), size = 1.5, colour = "darkred") +
geom_line( aes(x = year, y = share_usa ), size = 1.5, coulou = "darkblue") +
theme_classic() + labs(x = "Output", y= "" ) +
theme(text = element_text(size=12) )
ggplot(base) +
geom_line( aes(x = year, y = share_mex ), size = 1.5, colour = "darkred") +
geom_line( aes(x = year, y = share_usa ), size = 1.5, coulou = "darkblue") +
theme_classic() + labs(x = "", y= "" ) +
theme(text = element_text(size=12) )
ggplot(base) +
geom_line( aes(x = year, y = share_mex ), size = 1.5, colour = "darkred") +
geom_line( aes(x = year, y = share_usa ), size = 1.5, coulou = "darkblue") +
theme_bw() + labs(x = "", y= "" ) +
theme(text = element_text(size=12) )
ggplot(base) +
geom_line( aes(x = year, y = share_mex ), size = 1.5, colour = "darkred") +
geom_line( aes(x = year, y = share_usa ), size = 1.5, coulou = "darkblue") +
theme_bw() + labs(x = "", y= "" ) +
theme(text = element_text(size=16) )
rm(hp)
rm(hamilton)
rm(base)
save.image("G:/Meu Drive/Documents/Papers/AcadÃªmicos/Research/Accounting for Mexican Business Cycles/DSGE/DSGEData.RData")
