alesina         <- subset(alesina, year > 2007 & country != "GBR" )
countries_names <- c( rep("Austria", 7),
rep("Belgium", 7),
rep("Germany", 7),
rep("Denmark", 7),
rep("Spain", 7),
rep("Finland", 7),
rep("France", 7),
rep("Ireland", 7),
rep("Italy", 7),
rep("Portugal", 7),
rep("Sweden", 7))
alesina$country <- countries_names; rm( countries_names )
alesina$country <- factor( alesina$country )
#alphabetic order
alesina   <- alesina[ order( alesina$country ), ]
#regression dataset
data <- cbind( alesina, markup=austerity$markup, markup2= austerity$markup^2 )
benchmark <- plm( dlgdp ~ f_u_t + f_a_t,
data  = data,
index = c( "country", "year" ),
model = "within",
(effect = "twoways"))
View(data)
benchmark <- plm( dlgdp ~ f_u_t + f_a_t,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( benchmark )
intercep <- within_intercept( benchmark )
inequality <- plm( dlgdp ~ f_u_t + f_a_t + gini,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( inequality )
intercep <- within_intercept( inequality )
markup <- plm( dlgdp ~ f_u_t + f_a_t + gini + markup,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( markup )
intercep <- within_intercept( markup )
interaction <- plm( dlgdp ~ f_u_t + f_a_t + gini + markup + gini * markup,
data  = data,
index = c( "country", "year" ),
model = "within" ,
effect = "twoways" )
summary( interaction )
markup <- plm( dlgdp ~ f_u_t + f_a_t + gini + markup + markup2,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( markup )
interaction <- plm( dlgdp ~ f_u_t + f_a_t + gini + markup + markup2 + gini * markup,
data  = data,
index = c( "country", "year" ),
model = "within" ,
effect = "twoways" )
summary( interaction )
intercep <- within_intercept( interaction )
load("markupsdata.RData")
attach( data.frame( markups_europe ) )
austerity <- data.frame( Austria, Belgium, Denmark, Germany,
Finland, France, Ireland, Italy,
Portugal, Spain, Sweden)
detach( data.frame( markups_europe ) )
austerity <- ts( austerity, start = c( syear, 1 ) , frequency = 4 )
#calculate 4-quarters accumulated aggregate markup change by country
austerity <- log( ( austerity + lag( austerity, -1 ) + lag( austerity, -2 ) + lag( austerity, -3 ) ) / 4 ) -
log( ( lag( austerity, -4 ) + lag( austerity, -5 ) + lag( austerity, -6 ) + lag( austerity, -7 ) ) / 4 )
colnames( austerity ) <- c( "Austria", "Belgium", "Denmark", "Germany",
"Finland", "France", "Ireland", "Italy",
"Portugal", "Spain", "Sweden")
#select the lagged 4th quarter of each year to build annual (calendar-based) markup variation
austerity <- subset( austerity,
time( austerity ) == 2008.75 | time( austerity ) == 2009.75 |
time( austerity ) == 2010.75 | time( austerity ) == 2011.75 |
time( austerity ) == 2012.75 | time( austerity ) == 2013.75 |
time( austerity ) == 2014.75 )
#transform into panel data format
austerity <- t( austerity )
austerity <- data.frame( country=rownames(austerity), austerity  )
colnames( austerity ) <- c("country", seq( 2008, 2014 ) )
rownames( austerity ) <- NULL
austerity <- melt( austerity, id.vars = "country")
colnames( austerity ) = c("country", "year", "markup")
austerity <- austerity[ with( austerity, order(country, year)), ]
save.image("C:/Users/jcfil/Google Drive/Documents/Papers/Acadêmicos/Research/Fiscal Consolidation and the Euro; the role of markups/markupsdata.RData")
load("markupsdata.RData")
attach( data.frame( markups_europe ) )
austerity <- data.frame( Austria, Belgium, Denmark, Germany,
Finland, France, Ireland, Italy,
Portugal, Spain, Sweden)
detach( data.frame( markups_europe ) )
austerity <- ts( austerity, start = c( syear, 1 ) , frequency = 4 )
#calculate 4-quarters accumulated aggregate markup change by country
austerity <- log( ( austerity + lag( austerity, -1 ) + lag( austerity, -2 ) + lag( austerity, -3 ) ) / 4 ) -
log( ( lag( austerity, -4 ) + lag( austerity, -5 ) + lag( austerity, -6 ) + lag( austerity, -7 ) ) / 4 )
colnames( austerity ) <- c( "Austria", "Belgium", "Denmark", "Germany",
"Finland", "France", "Ireland", "Italy",
"Portugal", "Spain", "Sweden")
#select the 4th quarter of each year to build annual (calendar-based) markup variation
austerity_t <- subset( austerity,
time( austerity ) == 2008.75 | time( austerity ) == 2009.75 |
time( austerity ) == 2010.75 | time( austerity ) == 2011.75 |
time( austerity ) == 2012.75 | time( austerity ) == 2013.75 |
time( austerity ) == 2014.75 )
#transform into panel data format
austerity_t <- t( austerity_t )
austerity_t <- data.frame( country = rownames( austerity_t ), austerity_t  )
colnames( austerity_t ) <- c("country", seq( 2008, 2014 ) )
rownames( austerity_t ) <- NULL
austerity <- melt( austerity_t, id.vars = "country")
attach( data.frame( markups_europe ) )
austerity <- data.frame( Austria, Belgium, Denmark, Germany,
Finland, France, Ireland, Italy,
Portugal, Spain, Sweden)
detach( data.frame( markups_europe ) )
austerity <- ts( austerity, start = c( syear, 1 ) , frequency = 4 )
#calculate 4-quarters accumulated aggregate markup change by country
austerity <- log( ( austerity + lag( austerity, -1 ) + lag( austerity, -2 ) + lag( austerity, -3 ) ) / 4 ) -
log( ( lag( austerity, -4 ) + lag( austerity, -5 ) + lag( austerity, -6 ) + lag( austerity, -7 ) ) / 4 )
colnames( austerity ) <- c( "Austria", "Belgium", "Denmark", "Germany",
"Finland", "France", "Ireland", "Italy",
"Portugal", "Spain", "Sweden")
#select the 4th quarter of each year to build annual (calendar-based) markup variation
austerity_t <- subset( austerity,
time( austerity ) == 2008.75 | time( austerity ) == 2009.75 |
time( austerity ) == 2010.75 | time( austerity ) == 2011.75 |
time( austerity ) == 2012.75 | time( austerity ) == 2013.75 |
time( austerity ) == 2014.75 )
#transform into panel data format
austerity_t <- t( austerity_t )
austerity_t <- data.frame( country = rownames( austerity_t ), austerity_t  )
colnames( austerity_t ) <- c("country", seq( 2008, 2014 ) )
rownames( austerity_t ) <- NULL
austerity_t <- melt( austerity_t, id.vars = "country")
colnames( austerity_t ) = c("country", "year", "markup")
austerity_t <- austerity_t[ with( austerity_t, order(country, year)), ]
#select the lagged (t-1) 4th quarter of each year to build annual (calendar-based) markup variation
austerity_t1 <- subset( austerity,
time( austerity ) == 2007.75 | time( austerity ) == 2008.75 |
time( austerity ) == 2009.75 | time( austerity ) == 2010.75 |
time( austerity ) == 2011.75 | time( austerity ) == 2012.75 |
time( austerity ) == 2013.75 )
#transform into panel data format
austerity_t1 <- t( austerity_t1 )
austerity_t1 <- data.frame( country = rownames( austerity_t1 ), austerity_t1  )
colnames( austerity_t1 ) <- c("country", seq( 2008, 2014 ) )
rownames( austerity_t1 ) <- NULL
austerity_t1 <- melt( austerity_t1, id.vars = "country")
colnames( austerity_t1 ) = c("country", "year", "markup")
austerity_t1 <- austerity_t1[ with( austerity_t1, order(country, year)), ]
View(austerity_t1)
View(austerity_t)
View(austerity_t)
View(austerity_t)
austerity <- data.frame( austerity_t, austerity_t1$markup  )
colnames(austerity) <- c("country", "year", "markup", "markup_t1")
View(austerity)
rm( austerity_t, austerity_t1 )
save.image("C:/Users/jcfil/Google Drive/Documents/Papers/Acadêmicos/Research/Fiscal Consolidation and the Euro; the role of markups/markupsdata.RData")
#load annual markups variation for selected European countries in Alesina et al. (2015) dataset
nice_load(file = "markupsdata.RData", object = "austerity", rename = NULL)
View(austerity)
alesina         <- read_dta(file = "alesina.dta")
alesina         <- subset(alesina, year > 2007 & country != "GBR" )
countries_names <- c( rep("Austria", 7),
rep("Belgium", 7),
rep("Germany", 7),
rep("Denmark", 7),
rep("Spain", 7),
rep("Finland", 7),
rep("France", 7),
rep("Ireland", 7),
rep("Italy", 7),
rep("Portugal", 7),
rep("Sweden", 7))
alesina$country <- countries_names; rm( countries_names )
alesina$country <- factor( alesina$country )
#alphabetic order
alesina   <- alesina[ order( alesina$country ), ]
View(austerity)
#regression dataset
data <- cbind( alesina,
markup    = austerity$markup,
markup_t1 = austerity$markup_t1,
markup2   = austerity$markup^2 )
attach( data )
benchmark <- plm( dlgdp ~ f_u_t + f_a_t,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( benchmark )
intercep <- within_intercept( benchmark )
inequality <- plm( dlgdp ~ f_u_t + f_a_t + gini,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( inequality )
intercep <- within_intercept( inequality )
markup <- plm( dlgdp ~ f_u_t + f_a_t + gini + markup | f_u_t + f_a_t + gini + markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( markup )
#regression dataset
data <- cbind( dlngdp    = alesina$dlgdp * 100,
f_u_t     = alesina$f_u_t * 100,
f_a_t     = alesina$f_a_t * 100,
gini      = alesina$gini,
markup    = austerity$markup * 100,
markup_t1 = austerity$markup_t1 * 100,
markup2   = (austerity$markup * 100 )^2 )
View(data)
attach( data )
#regression dataset
data <- data.frame( dlngdp    = alesina$dlgdp * 100,
f_u_t     = alesina$f_u_t * 100,
f_a_t     = alesina$f_a_t * 100,
gini      = alesina$gini,
markup    = austerity$markup * 100,
markup_t1 = austerity$markup_t1 * 100,
markup2   = (austerity$markup * 100 )^2 )
benchmark <- plm( dlgdp ~ f_u_t + f_a_t,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
#regression dataset
data <- data.frame( country   = alesina$country,
year      = alesina$year
dlngdp    = alesina$dlgdp * 100,
f_u_t     = alesina$f_u_t * 100,
f_a_t     = alesina$f_a_t * 100,
gini      = alesina$gini,
markup    = austerity$markup * 100,
markup_t1 = austerity$markup_t1 * 100,
markup2   = (austerity$markup * 100 )^2 )
#regression dataset
data <- data.frame( country   = alesina$country,
year      = alesina$year,
dlngdp    = alesina$dlgdp * 100,
f_u_t     = alesina$f_u_t * 100,
f_a_t     = alesina$f_a_t * 100,
gini      = alesina$gini,
markup    = austerity$markup * 100,
markup_t1 = austerity$markup_t1 * 100,
markup2   = (austerity$markup * 100 )^2 )
benchmark <- plm( dlgdp ~ f_u_t + f_a_t,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( benchmark )
intercep <- within_intercept( benchmark )
inequality <- plm( dlgdp ~ f_u_t + f_a_t + gini,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( inequality )
intercep <- within_intercept( inequality )
markup <- plm( dlgdp ~ f_u_t + f_a_t + gini + markup | f_u_t + f_a_t + gini + markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( markup )
interaction <- plm( dlgdp ~ f_u_t + f_a_t + gini + markup + gini * markup | f_u_t + f_a_t + gini + markup_t1 + gini * markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within" ,
effect = "twoways" )
summary( interaction )
View(alesina)
#regression dataset
data <- data.frame( country   = alesina$country,
year      = alesina$year,
dlngdp    = alesina$dlgdp * 100,
f_u_t     = alesina$f_u_t * 100,
f_a_t     = alesina$f_a_t * 100,
gini      = alesina$gini,
markup    = austerity$markup * 100,
markup_t1 = austerity$markup_t1 * 100,
markup2   = (austerity$markup * 100 )^2,
eb = alesina$eb,
tb = alesina$tb
)
benchmark <- plm( dlgdp ~ f_u_t + f_a_t,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
benchmark <- plm( dlgdp ~ f_u_t + f_a_t + eb + tb,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( benchmark )
inequality <- plm( dlgdp ~ f_u_t + f_a_t + gini + eb + tb,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
inequality <- plm( dlgdp ~ f_u_t + f_a_t + eb + tb + gini,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( inequality )
markup <- plm( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup | f_u_t + f_a_t + eb + tb+ gini + markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( markup )
inequality <- plm( dlgdp ~ f_u_t + f_a_t + eb + tb + markup,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( inequality )
View(alesina)
markup <- plm( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup | f_u_t + f_a_t + eb + tb + gini + markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( markup )
interaction <- plm( dlgdp ~ f_u_t + f_a_t  + eb + tb + gini + markup * markup | f_u_t + f_a_t + eb + tb + gini + markup_t1 + gini * markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within" ,
effect = "twoways" )
summary( interaction )
interaction <- plm( dlgdp ~ f_u_t + f_a_t  + eb + tb + gini + gini * markup | f_u_t + f_a_t + eb + tb + gini + markup_t1 + gini * markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within" ,
effect = "twoways" )
summary( interaction )
interaction <- plm( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup + eb * markup + tb * markup
| f_u_t + f_a_t + eb + tb + gini + markup_t1 + eb * markup_t1 + tb * markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within" ,
effect = "twoways" )
summary( interaction )
interaction <- plm( dlgdp ~ f_u_t + f_a_t + eb + tb + markup + eb * markup + tb * markup
| f_u_t + f_a_t + eb + tb + gini + markup_t1 + eb * markup_t1 + tb * markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within" ,
effect = "twoways" )
summary( interaction )
interaction <- plm( dlgdp ~ f_u_t + f_a_t + eb + tb + markup + eb * markup + tb * markup
| f_u_t + f_a_t + eb + tb + markup_t1 + eb * markup_t1 + tb * markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within" ,
effect = "twoways" )
summary( interaction )
interaction <- plm( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup + gini * markup + eb * markup + tb * markup
| f_u_t + f_a_t + eb + tb + gini + markup_t1 + gini * markup_t1 + + eb * markup_t1 + tb * markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within" ,
effect = "twoways" )
summary( interaction )
markup <- plm( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( markup )
markup <- plm( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup_t1 + gini * markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( markup )
markup <- plm( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup_t1 + eb * markup_t1 + tb * markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( markup )
markup <- plm( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup_t1 + eb * markup_t1 + tb * markup_t1 + gini * markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
summary( markup )
markup <- pgmm( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup | markup_t1,
data  = data,
index = c( "country", "year" ),
model = "within",
effect = "twoways" )
markup <- pgmm( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup | markup_t1,
data  = data,
index = c( "country", "year" ),
model = "twosteps",
effect = "twoways" )
markup <- pgmm(
dynformula( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup, lag = list(1, 0, 0, 0, 0, 0, 1 ) ),
data  = data,
index = c( "country", "year" ),
model = "twosteps",
effect = "twoways" )
rm(markup)
markup <- pgmm(
dynformula( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup, lag = list(1, 0, 0, 0, 0, 0, 1 ) ),
data  = data,
index = c( "country", "year" ),
model = "twosteps",
effect = "twoways" )
markup <- pgmm(
formula =  dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup,
data  = data,
index = c( "country", "year" ),
model = "twosteps",
effect = "twoways" )
markup <- pgmm(
formula =  dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup,
data  = data,
index = c( "country", "year" ),
model = "twosteps",
effect = "twoways",
gmm.inst = dlgdp)
markup <- pggls( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup,
data  = data,
index = c( "country", "year" ),
model = "fixed",
effect = "twoways")
markup <- pggls( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup,
data  = data,
index = c( "country", "year" ),
model = "random",
effect = "twoways")
markup <- pggls( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup,
data  = data,
index = c( "country", "year" ),
model = "fixed",
effect = "individual")
markup <- pggls( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup,
data  = data,
index = c( "country", "year" ),
model = "random",
effect = "individual")
summary( markup )
markup <- pggls( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup + eb * markup + tb * markup,
data  = data,
index = c( "country", "year" ),
model = "random",
effect = "individual")
markup <- pggls( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup + eb * markup + tb * markup,
data  = data,
index = c( "country", "year" ),
model = "pooling",
effect = "individual")
summary( markup )
markup <- pggls( dlgdp ~ f_u_t + f_a_t + eb + tb + gini + markup + gini * markup,
data  = data,
index = c( "country", "year" ),
model = "pooling",
effect = "individual")
summary( markup )
markup <- pggls( dlgdp ~ f_u_t + f_a_t,
data  = data,
index = c( "country", "year" ),
model = "pooling",
effect = "individual")
summary( markup )
markup <- pggls( dlgdp ~ f_u_t + f_a_t + eb + tb,
data  = data,
index = c( "country", "year" ),
model = "pooling",
effect = "individual")
summary( markup )
markup <- pggls( dlgdp ~ f_u_t + f_a_t + gini + markup + gini * markup,
data  = data,
index = c( "country", "year" ),
model = "pooling",
effect = "individual")
summary( markup )
markup <- pggls( dlgdp ~ f_u_t + f_a_t + gini + markup,
data  = data,
index = c( "country", "year" ),
model = "pooling",
effect = "individual")
markup <- pggls( dlgdp ~ f_u_t + f_a_t + gini + markup,
markup <- pggls( dlgdp ~ f_u_t + f_a_t + gini + markup,
data  = data,
index = c( "country", "year" ),
model = "pooling",
effect = "time")
summary( markup )
markup <- pggls( dlgdp ~ f_u_t + f_a_t + gini + markup,
data  = data,
index = c( "country", "year" ),
model = "pooling",
effect = "individual")
summary( markup )
?plm
