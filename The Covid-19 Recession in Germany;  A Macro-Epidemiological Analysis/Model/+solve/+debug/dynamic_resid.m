function [lhs, rhs] = dynamic_resid(y, x, params, steady_state)
T = NaN(28, 1);
lhs = NaN(98, 1);
rhs = NaN(98, 1);
T(1) = y(2)^(1-params(14));
T(2) = y(101)^params(14);
T(3) = 1/(params(12)*params(14)^params(14)*(1-params(14))^(1-params(14)));
T(4) = T(3)*y(102)^params(14);
T(5) = y(103)^(1-params(14));
T(6) = y(101)^(params(14)-1);
T(7) = params(12)*params(14)*y(125)*T(6);
T(8) = params(13)/2;
T(9) = y(113)*y(107)*y(227)*y(112)*params(5)*y(229)+y(110)*y(107)*y(228)*y(109)*params(6)*y(230)+params(7)*y(107)*(1-y(246));
T(10) = params(4)/(params(4)-1);
T(11) = params(10)*params(1)*(y(124)*y(243))^T(10);
T(12) = 1/(params(4)-1);
T(13) = params(10)*params(1)*(y(124)*y(243))^T(12);
T(14) = (1-params(1)*y(124)^T(12))/(1-params(1));
T(15) = T(14)^(-(params(4)-1));
T(16) = params(1)*y(124)^T(10);
T(17) = y(53)^(1-params(14));
T(18) = y(152)^params(14);
T(19) = T(3)*y(153)^params(14);
T(20) = y(154)^(1-params(14));
T(21) = y(152)^(params(14)-1);
T(22) = params(12)*params(14)*y(176)*T(21);
T(23) = y(164)*y(158)*y(278)*params(5)*y(163)*y(280)+y(161)*y(158)*y(279)*params(6)*y(160)*y(281)+(1-y(246))*params(7)*y(158);
T(24) = params(10)*params(20)*(y(175)*y(294))^T(10);
T(25) = params(10)*params(20)*(y(175)*y(294))^T(12);
T(26) = (1-params(20)*y(175)^T(12))/(1-params(20));
T(27) = T(26)^(-(params(4)-1));
T(28) = params(20)*y(175)^T(10);
lhs(1) = y(146);
rhs(1) = y(149)*y(48)+x(1);
lhs(2) = y(147);
rhs(2) = y(149)*y(49)+x(2);
lhs(3) = y(148);
rhs(3) = y(149)*y(50)+x(3);
lhs(4) = y(149);
rhs(4) = y(51)+x(4);
lhs(5) = y(99);
rhs(5) = y(144)*params(12)*T(1)*T(2);
lhs(6) = y(125);
rhs(6) = T(4)*T(5);
lhs(7) = y(102);
rhs(7) = T(1)*T(7);
lhs(8) = y(100);
rhs(8) = y(104)+y(2)*(1-params(17));
lhs(9) = y(99);
rhs(9) = y(104)+y(105)+params(18);
lhs(10) = y(101);
rhs(10) = y(8)*y(109)+y(9)*y(110)+y(10)*y(111);
lhs(11) = y(105);
rhs(11) = y(8)*y(112)+y(9)*y(113)+y(10)*y(114);
lhs(12) = y(115);
rhs(12) = y(113)*y(9)*y(112)*y(8)*params(5)+y(110)*y(9)*y(109)*y(8)*params(6)+y(9)*y(8)*params(7)*(1-y(148));
lhs(13) = y(106);
rhs(13) = y(8)-y(115);
lhs(14) = y(107);
rhs(14) = y(9)+y(115)-y(9)*(params(8)+params(9));
lhs(15) = y(108);
rhs(15) = y(10)+y(9)*params(8);
lhs(16) = y(121);
rhs(16) = y(23)+y(9)*params(9);
lhs(17) = y(122);
rhs(17) = y(24)-y(9)*params(9);
lhs(18) = 1/y(112);
rhs(18) = y(116)*(1+y(146))-y(113)*y(9)*params(5)*y(117);
lhs(19) = 1/y(113);
rhs(19) = y(116)*(1+y(146));
lhs(20) = 1/y(114);
rhs(20) = y(116)*(1+y(146));
lhs(21) = y(109)*params(13);
rhs(21) = y(102)*y(116)*(1-y(147))+y(110)*y(9)*params(6)*y(117);
lhs(22) = y(110)*params(13);
rhs(22) = y(102)*y(116)*(1-y(147));
lhs(23) = y(111)*params(13);
rhs(23) = y(102)*y(116)*(1-y(147));
lhs(24) = y(116);
rhs(24) = y(116)*params(10)*(1-params(17)+y(103)*y(239))*y(234);
lhs(25) = y(118);
rhs(25) = y(117)+y(119);
lhs(26) = log(y(112)*y(227))-T(8)*(y(109)*y(228))^2+y(117)*y(233)*T(9)+y(116)*y(234)*(y(228)*y(109)*y(102)*y(231)*(1-y(245))-y(112)*y(227)*(1+y(244)))-y(119)/params(10)+y(119)*y(232);
rhs(26) = 0;
lhs(27) = log(y(113)*y(229))-T(8)*(y(110)*y(230))^2+y(116)*y(234)*((1-y(245))*y(230)*y(110)*y(102)*y(231)-(1+y(244))*y(113)*y(229))-y(118)/params(10)+y(118)*y(235)*(1-params(8)-params(9))+params(8)*y(120)*y(236);
rhs(27) = 0;
lhs(28) = y(120)*y(236)+log(y(114)*y(237))-T(8)*(y(111)*y(238))^2+y(116)*y(234)*((1-y(245))*y(238)*y(111)*y(102)*y(231)-(1+y(244))*y(114)*y(237))-y(120)/params(10);
rhs(28) = 0;
lhs(29) = y(116);
rhs(29) = y(234)*y(116)*params(10)*y(123)/(y(124)*y(243));
lhs(30) = y(128);
rhs(30) = y(123)/(y(124)*y(243));
lhs(31) = y(127);
rhs(31) = y(99)*y(116)*y(125)*params(4)+y(127)*T(11)*y(241);
lhs(32) = y(126);
rhs(32) = y(99)*y(116)+y(126)*T(13)*y(240);
lhs(33) = y(127);
rhs(33) = y(126)*T(15);
lhs(34) = y(144)^(-1);
rhs(34) = (1-params(1))*T(14)^params(4)+T(16)/y(46);
lhs(35) = y(123);
rhs(35) = (steady_state(25))+params(2)*log(y(124)/(steady_state(26)))+params(3)*log(y(99)/y(150));
lhs(36) = y(142);
rhs(36) = y(126)/y(28);
lhs(37) = y(143);
rhs(37) = y(127)/y(29);
lhs(38) = y(145);
rhs(38) = y(124)/y(26);
lhs(39) = y(129);
rhs(39) = y(112)/y(14);
lhs(40) = y(130);
rhs(40) = y(109)/y(11);
lhs(41) = y(131);
rhs(41) = y(113)/y(15);
lhs(42) = y(132);
rhs(42) = y(110)/y(12);
lhs(43) = y(133);
rhs(43) = y(102)/y(4);
lhs(44) = y(134);
rhs(44) = y(119)/y(21);
lhs(45) = y(135);
rhs(45) = y(117)/y(19);
lhs(46) = y(136);
rhs(46) = y(116)/y(18);
lhs(47) = y(137);
rhs(47) = y(118)/y(20);
lhs(48) = y(138);
rhs(48) = y(120)/y(22);
lhs(49) = y(139);
rhs(49) = y(114)/y(16);
lhs(50) = y(140);
rhs(50) = y(111)/y(13);
lhs(51) = y(141);
rhs(51) = y(103)/y(5);
lhs(52) = y(150);
rhs(52) = params(12)*y(195)*T(17)*T(18);
lhs(53) = y(176);
rhs(53) = T(19)*T(20);
lhs(54) = y(153);
rhs(54) = T(17)*T(22);
lhs(55) = y(151);
rhs(55) = y(155)+(1-params(17))*y(53);
lhs(56) = y(150);
rhs(56) = params(18)+y(155)+y(156);
lhs(57) = y(152);
rhs(57) = y(59)*y(160)+y(60)*y(161)+y(61)*y(162);
lhs(58) = y(156);
rhs(58) = y(59)*y(163)+y(60)*y(164)+y(61)*y(165);
lhs(59) = y(166);
rhs(59) = y(164)*y(60)*y(163)*params(5)*y(59)+y(161)*y(60)*y(160)*params(6)*y(59)+(1-y(148))*y(60)*params(7)*y(59);
lhs(60) = y(157);
rhs(60) = y(59)-y(166);
lhs(61) = y(158);
rhs(61) = y(60)+y(166)-(params(8)+params(9))*y(60);
lhs(62) = y(159);
rhs(62) = y(61)+params(8)*y(60);
lhs(63) = y(172);
rhs(63) = y(74)+params(9)*y(60);
lhs(64) = y(173);
rhs(64) = y(75)-params(9)*y(60);
lhs(65) = 1/y(163);
rhs(65) = (1+y(146))*y(167)-y(164)*y(60)*params(5)*y(168);
lhs(66) = 1/y(164);
rhs(66) = (1+y(146))*y(167);
lhs(67) = 1/y(165);
rhs(67) = (1+y(146))*y(167);
lhs(68) = params(13)*y(160);
rhs(68) = (1-y(147))*y(153)*y(167)+y(161)*y(60)*params(6)*y(168);
lhs(69) = params(13)*y(161);
rhs(69) = (1-y(147))*y(153)*y(167);
lhs(70) = params(13)*y(162);
rhs(70) = (1-y(147))*y(153)*y(167);
lhs(71) = y(167);
rhs(71) = y(167)*params(10)*(1-params(17)+y(154)*y(290))*y(285);
lhs(72) = y(169);
rhs(72) = y(168)+y(170);
lhs(73) = log(y(163)*y(278))-T(8)*(y(160)*y(279))^2+y(168)*y(284)*T(23)+y(167)*y(285)*((1-y(245))*y(279)*y(160)*y(153)*y(282)-(1+y(244))*y(163)*y(278))-y(170)/params(10)+y(170)*y(283);
rhs(73) = 0;
lhs(74) = log(y(164)*y(280))-T(8)*(y(161)*y(281))^2+y(167)*y(285)*((1-y(245))*y(281)*y(161)*y(153)*y(282)-(1+y(244))*y(164)*y(280))-y(169)/params(10)+(1-params(8)-params(9))*y(169)*y(286)+params(8)*y(171)*y(287);
rhs(74) = 0;
lhs(75) = y(171)*y(287)+log(y(165)*y(288))-T(8)*(y(162)*y(289))^2+y(167)*y(285)*((1-y(245))*y(289)*y(162)*y(153)*y(282)-(1+y(244))*y(165)*y(288))-y(171)/params(10);
rhs(75) = 0;
lhs(76) = y(167);
rhs(76) = y(285)*y(167)*params(10)*y(174)/(y(175)*y(294));
lhs(77) = y(179);
rhs(77) = y(174)/(y(175)*y(294));
lhs(78) = y(178);
rhs(78) = y(150)*y(167)*params(4)*y(176)+y(178)*T(24)*y(292);
lhs(79) = y(177);
rhs(79) = y(150)*y(167)+y(177)*T(25)*y(291);
lhs(80) = y(178);
rhs(80) = y(177)*T(27);
lhs(81) = y(195)^(-1);
rhs(81) = (1-params(20))*T(26)^params(4)+T(28)/y(97);
lhs(82) = y(174);
rhs(82) = (steady_state(25))+params(2)*log(y(175)/(steady_state(77)));
lhs(83) = y(193);
rhs(83) = y(177)/y(79);
lhs(84) = y(194);
rhs(84) = y(178)/y(80);
lhs(85) = y(196);
rhs(85) = y(175)/y(77);
lhs(86) = y(180);
rhs(86) = y(163)/y(65);
lhs(87) = y(181);
rhs(87) = y(160)/y(62);
lhs(88) = y(182);
rhs(88) = y(164)/y(66);
lhs(89) = y(183);
rhs(89) = y(161)/y(63);
lhs(90) = y(184);
rhs(90) = y(153)/y(55);
lhs(91) = y(185);
rhs(91) = y(170)/y(72);
lhs(92) = y(186);
rhs(92) = y(168)/y(70);
lhs(93) = y(187);
rhs(93) = y(167)/y(69);
lhs(94) = y(188);
rhs(94) = y(169)/y(71);
lhs(95) = y(189);
rhs(95) = y(171)/y(73);
lhs(96) = y(190);
rhs(96) = y(165)/y(67);
lhs(97) = y(191);
rhs(97) = y(162)/y(64);
lhs(98) = y(192);
rhs(98) = y(154)/y(56);
end
